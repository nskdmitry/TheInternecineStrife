Карта (среды):        Оптимальный путь:
 |2 3 4 5 6 7 8 9      |0 1 2 3 4 5 6 7
-----------------     -----------------
2|_ _ _ _ ~ ~ П _     0|_ _ _ _ ~ ~ П _
3|A _ _ _ ~ ~ _ _     1|А _ _ _ ~ ~ _ _
4|П _ _ ~ ~ ~ ~ ~     2|x _ _ ~ ~ x x x
5|~ ~ ~ ~ ~ ~ _ П     3|x x x x x x _ x
6|~ ~ Ш ~ ~ ~ _ Б     4|~ ~ Ш ~ ~ ~ _ Б

_ Суша
~ Вода
П Порт
Ш Брод (мост, отмель)
А Откуда (суша)
Б Куда (суша)
x Путь
! Переход с занятой ранее клетки невозможен или слишком дорог.
Цифры - координаты

Трассировка
|0 1 2 3 4 5 6 7
-----------------
0|_ _ _ _ ~ ~ П _
1|A x x x ! ~ _ _
2|П _ _ ~ x x ~ ~
3|~ ~ ~ ~ ~ x ! П
4|~ ~ Ш ~ ~ ~ x Б

Гарантированное нахождение пути.

1) Путь есть - между портами. Надо выйти на порты.
2) Нужен алгоритм обхода препятствий, хотя бы внутри рамки.
3)

ИИ "Купец"
Что это? Вспомогательный инструмент для генерации карты.
Что делает? Трассирует (или прокладывает прямой) пути между столицами областей. Каждый раз, как встречает недопустимый переход, преобразует исходящую клетку таким образом, чтобы путь можно было продолжить.
Зачем? Упрощает работу ИИИ (игровым ИИ), делает карту доступной всем игрокам.

1. При столкновении с невозможностью перехода из клетки по маршруту далее по причине несопоставимости сред:
  а) определить среду, позволяющую осуществить переход в оба направления.
  б) Такой среды нет? Назначить другую цель.
  в) Выбрать и отсортировать по возрастанию стоимости антропогенный ландшафт, соответствующий данной среде.
  г) Такие недоступны? Назначить другую цель.
  д) Выбрать первый, определить стоимость, сравнить с ресурсами в столице области.
  е) Пока ресурсов недостаточно: передавать 10% ресурсов нужного типа из других подвластных областей в столицу этой области.
  ж) Произвести обустройство.
  з) Перейти к следующей клетке.
2. Если препятствием стал перепад высот:
  а) Найти крайние с начала и с конца проблемные точки.
  б) Удалить из маршрута часть, соответствующую этим точкам.
  в) Выбрать другой алгоритм
