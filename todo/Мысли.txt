+ 0. Клетка: {Владелец, x, y, в_составе_провинции, ландшафт} и Провинция {Владелец, центр} отвечают разным задачам. Клетка - территория с однородным ландшафтом, способная содержать в себе до некоторого числа солдат, диктуемого ландшафтом.
+ 1. Армии (Army) - структуры вида: {Владелец?, энергия?, количество солдат, клетка-позиция}.
+ 2. Параметр MAX_MARSH_DISTANCE - максимальное расстояние перемещения войск (по своим владениям).
+ 3. Область марша (MarshRect) - квадратная область радиусом MAX_MARSH_DISTANCE вокруг целевой клетки. Используется для атаки для сбора армии вторжения и для концентрации войск в клетке (сбора с окрестностей). После осуществления действия энергия армий во всех задействованных клетках обнуляется.
+ 4. Армии перенаправляют войска из одной клетки (SourceCell) в другую клетку (DestCell).
+ 5. Если клетка принадлежит активному игроку, то часть армии из клетки-источника перемещаются в целевую, согласно правилам текущего кодекса. Суммарная армия в целевой не должна превышать ограничение местности (ландшафта).
+ 6. Если это чужая клетка, включается механизм Вторжение:
+ А. Выбираются клетки атакующего в области марша вокруг целевой клетки, у войск которых достаточно энергии для марша;
  Б. Собирается отряд вторжения (MarshArmy) согласно текущим правилам (Неолит: 75% исходной клетки, 50% армий остальных клеток);
  В. Происходит битва в целевой клетке (Battle) согласно текущим правилам с армией ТОЛЬКО в целевой клетке (Harrison);
  Г. Все армии (источник, MarshRect, MarshArmy, Harrison) утрачивают инициативу (обнуляется энергия).
+ Д. Если гарнизон разбит, клетка переходит к игроку-нападающему.
+ Е. Оставшиеся после битвы солдаты нападающего прибавляются к войскам клетки-источника. Избыток солдат пропадает совсем.
  З. Если клетка захвачена, в неё назначается гарнизон согласно текущему своду правил.
  И. Арми вторжения сбрасывается в ноль.
  К. Если захваченная клетка является столицей соотв. провинции (совп. координаты), то вся провинция переходит во владение игрока-захватчика.
+ 7. Армия вторжения - структура-синглтон, заполняющийся перед вторжением текущим игроком и сбрасывающийся после битвы.
+ 8. В каждой клетке численность армий растет согласно текущим правилам (Неолит: ceil(10*sqrt(Army.Amount))).
+ 9. Таким образом, число армий = WIDTH * HEIGHT + 1 и является константой для каждой игры.
  10. Следует упростить разметку, ответственную за вывод информации(там, где не предполагается использовать форматирование).
  11. Файл глобальных настроек. Загружается на старте приложения.
  12. Кодексы содержат свои настройки, переписывающие глобальные.

Алгоритм построения маршрута:
  1. Стоимость перемещения между клетками определяется по:
	а. крутизне спуска-подъема (разнице высот) = (следующая - текущая)/текущая %;
	б. наличие контроля клетки (по своим = 0, по чужим = врагов/перемещаемых_войск % + 10%);
	в. допустимости перехода между средами (одна среда = 0, разные = 20-50%, перехода нет - недоступно);
  2. Реализуется механизмом очереди - сперва те окрестности, что были раньше.
  3. Запоминаются параметр Энергия солдат. Копия этого параметра используется для маршрута, вычитая сложность для каждой новой клетки.
  4. Если энергия маршрута закончится раньше достижения цели, маршрут считать недействительным и  